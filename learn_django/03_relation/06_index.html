<html>
<head>
	<title> index </title>
</head>

<body>
<!-- ============================================ -->
<!-- ================ list======================= -->
<!-- ============================================ -->
<!-- ============================================ -->
	<h1> list all </h1>
	<h2> list authors </h2>
	<table border = '1'>
		{% for author in author_list %}
		<tr>
			<td> {{author}}</td>
			<td> {{author.email}}</td>
		</tr>
		{% endfor %}
	</table>

	<h2> list publishers </h2>
	<table border = '1'>
		{% for publisher in publisher_list %}
		<tr>
			<td> {{publisher}}</td>
			<td> {{publisher.website}}</td>
		</tr>
		{% endfor %}
	</table>

	<h2> list book </h2>
	<table border = '1'>
		{% for book in book_list %}
		<tr>
			<td> {{book}}</td>
			<td> {{book.publisher}}</td>
		</tr>
		{% endfor %}
	</table>
	<hr />

<!-- ============================================ -->
<!-- ================new ======================== -->
<!-- ============================================ -->
<!-- ============================================ -->
	<h2> add new </h2>
	<form action = 'new_author' method='post'>
		{% csrf_token %}
		<table>
			{{new_author_form.as_table}}
			<tr><td><input type='submit' value='add new author' /></td></tr>
		</table>
	</form>

	<form action='new_publisher' method='post'>
		{% csrf_token %}
		<table>
			{{new_publisher_form.as_table}}
			<tr><td><input type='submit' value='add new publisher' /></td></tr>
		</table>
	</form>

	<form action='new_book' method='post'>
		{% csrf_token %}
		<table>
			{{new_book_form.as_table}}
			<tr><td><input type='submit' value='add new book' /></td></tr>
		</table>	
	</form>


<!-- ============================================ -->
<!-- =================delete===================== -->
<!-- ============================================ -->
<!-- ============================================ -->
	<hr />
	<h1> delete </h1>
	<h2> delete a book </h2>
	<form action = 'delete_book' method='POST'> 
		{% csrf_token %}
		<table>
			<tr>
				<td> book to delete: </td>
				<td>
					<select name='book_id'>
						{% for book in book_list %}
							<option value="{{book.id}}"> {{book}}</option>
						{% endfor %}
					</select>
				</td>
			</tr>
			<tr>
				<td> <input type = 'submit' value = 'delete selected book'></td>
			</tr>
		</table>
	</form>

	<h2> delete a publisher </h2>
	<form action = 'delete_publisher' method='POST'> 
		{% csrf_token %}
		<table>
			<tr>
				<td> publisher to delete: </td>
				<td>
					<select id='delete_publisher' name='publisher_id'>
						{% for publisher in publisher_list %}
							<option value="{{publisher.id}}"> {{publisher}}</option>
						{% endfor %}
					</select>
				</td>
			</tr>
			<tr>
				<td> <input type = 'submit' value = 'delete selected publisher'></td>
			</tr>
		</table>
	</form>

	<h2> delete an author </h2>
	<form action = 'delete_author' method='POST'> 
		{% csrf_token %}
		<table>
			<tr>
				<td> author to delete: </td>
				<td>
					<select name='author_id'>
						{% for author in author_list %}
							<option value="{{author.id}}"> {{author}}</option>
						{% endfor %}
					</select>
				</td>
			</tr>
			<tr>
				<td> <input type = 'submit' value = 'delete selected author'></td>
			</tr>
		</table>
	</form>


<!-- ============================================ -->
<!-- ==============update======================== -->
<!-- ============================================ -->
<!-- ============================================ -->

	<hr>
	<h1> update </h1>
	<h2> update a book </h2>
	<form action = 'update_book' method='POST'> 
		{% csrf_token %}

		<table>
			<tr>
				<td> book to update: </td>
				<td>
					<select id='update_book' name='update_book'>
						{% for book in book_list %}
							<option value="{{book.id}}" name='book_id'> {{book}} </option>
						{% endfor %}
					</select>
				</td>
			</tr>
			{{new_book_form.as_table}}
			<tr><td><input type='submit' value='update the selected book' /> </td></tr>
		</table>
	</form>


	<h2> update an author </h2>
	<form action = 'update_author' method='POST'> 
		{% csrf_token %}
		<table>
			<tr>
				<td> author to update: </td>
				<td>
					<select id='update_author' name='author_id'>
						{% for author in author_list %}
							<option value="{{author.id}}"> {{author}}:{{author.email}}</option>
						{% endfor %}
					</select>
				</td>
			</tr>
			{{new_author_form.as_table}}
			<tr><td><input type='submit' value='update the selected author' /> </td></tr>
		</table>
	</form>


	<h2>update a publisher </h2>
	<form action = 'update_publisher' method='POST'> 
		{% csrf_token %}
		<table>
			<tr>
				<td> publisher to update: </td>
				<td>
					<select id='update_publisher' name='update_publisher'>
						{% for author in author_list %}
							<option value="{{publisher.id}}" name='publisher_id'> {{publisher}}</option>
						{% endfor %}
					</select>
				</td>
			</tr>
			{{new_publisher_form.as_table}}
			<tr><td><input type='submit' value='update the selected publisher' /> </td></tr>
		</table>
	</form>


</body>


</html>